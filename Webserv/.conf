#Setup the configuration file as follow:
#- / must answer to GET request ONLY
#- /put_test/* must answer to PUT request and save files to a directory of your choice
#- any file with .bla as extension must answer to POST request by calling the cgi_test executable
#- /post_body must answer anything to POST request with a maxBody of 100
#- /directory/ must answer to GET request and the root of it would be the repository YoupiBanane and if no file are requested, it should search for youpi.bad_extension files

events
	worker_connections 1024;
http
	include /etc/nginx/mime.types;	
	default_type application/octet-stream;
	# Specifies the maximum accepted body size of a client request, as
	# indicated by the request header Content-Length. If the stated content
	# length is greater than this size, then the client receives the HTTP
	# error code 413. Set to 0 to disable. Default is '1m'.
	client_max_body_size 1m;

server
	listen 	127.0.2.1:80
	server_name localhost  # Replace with your domain or IP address
	
	location /
		methods GET
	
	location ~ ^/put_test/
		methods PUT
		client_max_body_size 50M  # Adjust the file size limit as needed
		client_body_buffer_size 128k
	
	location ~ \.bla$
		methods POST
		fastcgi_pass unix:/var/run/php5-fpm.sock  # Adjust this to your FastCGI configuration
		include fastcgi_params  # You may need to adjust this based on your setup
		fastcgi_param SCRIPT_FILENAME /path/to/cgi_test
	
	location /post_body
		methods POST
		client_max_body_size 100
	
	location /directory/
		methods GET
		alias /path/to/YoupiBanane/
		location ~ \.bad_extension$

server
	listen	 127.0.0.1:4141
	server_name localhost  # Replace with your domain or IP address
	
	location /
		methods GET
	
	location ~ ^/put_test/
		methods PUT
		client_max_body_size 50M  # Adjust the file size limit as needed
		client_body_buffer_size 128k
	
	location ~ \.bla$
		methods POST
		fastcgi_pass unix:/var/run/php5-fpm.sock  # Adjust this to your FastCGI configuration
		include fastcgi_params  # You may need to adjust this based on your setup
		fastcgi_param SCRIPT_FILENAME /path/to/cgi_test
	
	location /post_body
		methods POST
		client_max_body_size 100
	
	location /directory/
		methods GET
		alias /path/to/YoupiBanane/
		location ~ \.bad_extension$

#Make sure to replace the following placeholders with your actual server and file paths:
#
#    http://your_backend_server with the appropriate backend server for the /put_test/ location.
#    fastcgi_pass unix:/var/run/php5-fpm.sock with your FastCGI configuration for the .bla files.
#    /path/to/cgi_test with the actual path to the cgi_test executable.
#    /path/to/YoupiBanane/ with the actual path to the YoupiBanane directory.
#
#This configuration file defines different locations with specific request methods and behavior as you described in your request.
